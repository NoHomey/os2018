# Упражнение 4

### Теми за контролно №1 (на 05.11) :

 - Файлова система
 - Команди за работа с файлове и директории
 - Информационни команди
 - Команди свързани с многопотребителския режим
 - Wildcards. Екраниране. Метасимволът `. 
 - Пренасочване. Конвейер. 
 - Асинхронно изпълнение на команди. 


## I.  Команди свързани с многопотребителския режим

`who` - отпечатва на стандартния изход списък с активните потребители

`who am i` - отпечатва username и логически терминал на потребителя, който изпълнява командата

`whoami` - отпечатва username на потребителя

`ps` - извежда на стандартния изход процесите, които ние сме стартирали (в текущия терминал). 
* ps aux - всички процеси в системата

`kill -9 <PID>` - убива посочения процес

`write user [tty]` - Изпраща съобщение от stdin на даден потребител.

`mesg [y|n]` – разрешава/забранява получаването на съобщения

## II. Права на достъп


`chmod <mode> <file>` - сменя правата на файл
Пример: chmod 0755 f1 - правата на f1 стават rwxr-xr-x

`chmod {a, u, g, o} {+, -} {r, w, x} <file>`
Пример: chmod a+x f1

`chown <user> <file>` - променя собственика на файл

`chgrp <group> <file>` - променя групата на файл

## III. Компилиране на програма на C

`cc program.c [-o program] [-std=c99]` – компилира програма на С

`./program` - стартиране на изпълним файл, който се намира в текущата директория

## IV. Редактор Vi

### 1. Режим на работа
1.  Command mode
2.  Insert mode
### 2. Въвеждане на текст (insert mode)
![insert mode](https://bitbucket.org/adUst0/test/raw/32f3a5b7d8e00f41037920a4b974b08557f0886d/vi_insert_mode.png)

### 3. Движение по файла

 - Arrows

 CTRL + :
 - U - 1/2 стр. нагоре
 - D - 1/2 стр надолу
 - F - 1 стр. надолу
 - B - 1 стр. нагоре
 - H - началото на файла
 - L - края на файла

### 4. Записване и излизане

 - :w [f1] - save [as f1]
 - :q - exit
 - :wq - save and exit
 - :q! - discard changes and exit
 - :!cmd - execute bash command

### 5. Редактиране
|  | change | delete | move | copy |
|:--:|:--:|:--:|:--:|:--:|
| char | r | x | - | - |
| word | c[n]w | d[n]w | d[n]w -> p | y[n]w -> p |
| line | [n]cc | [n]dd | [n]dd -> p | [n]yy -> p |

### 6. Идентация

 - [n]>> - таб надясно [следващите n реда]
 - [n]<< - таб наляво [следващите n реда]

### 7. Търсене във файла

 - :/ABC/ - намира първото срещане
        - n - следващото срещане
        - N - предишното
        **NB.** Накрая на файла, почва от началото.

## V. Задачи
1. Напишете безкраен цикъл на C. Стартирайте програмата и я убийте през друг shell. 
2. Напишете команда, която отпечатва броя на сесиите на потребителя, който изпълнява командата.